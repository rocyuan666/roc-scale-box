(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["vue2ScaleBox"]=t():e["vue2ScaleBox"]=t()})("undefined"!==typeof self?self:this,(function(){return function(){"use strict";var e={};!function(){e.d=function(t,s){for(var n in s)e.o(s,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:s[n]})}}(),function(){e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){e.p=""}();var t={};if(e.d(t,{default:function(){return d}}),"undefined"!==typeof window){var s=window.document.currentScript,n=s&&s.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);n&&(e.p=n[1])}var i=function(){var e=this,t=e._self._c;return t("div",{ref:"vue2ScaleBox",staticClass:"vue2-scale-box",style:{...e.style,width:e.width+"px",height:e.height+"px",backgroundColor:e.bgc}},[e._t("default")],2)},a=[],r={name:"Vue2ScaleBox",props:{width:{type:Number,default:1920},height:{type:Number,default:1080},bgc:{type:String,default:"transparent"},delay:{type:Number,default:100},isFlat:{type:Boolean,default:!1}},data(){return{scale:0,scaleX:0,scaleY:0,style:{position:"fixed",transform:"scale(var(--scale)) translate(-50%, -50%)",transformOrigin:"0 0",left:"50%",top:"50%",zIndex:999}}},created(){this.isFlat?this.style["transform"]="scaleX(var(--scaleX)) scaleY(var(--scaleY)) translate(-50%, -50%)":this.style["transform"]="scale(var(--scale)) translate(-50%, -50%)"},watch:{scale:{handler(e){let t;t=this.isFlat?[this.scaleX,this.scaleY]:e,this.$emit("scaleChange",t)},immediate:!0}},mounted(){this.setScale(),window.addEventListener("resize",this.debounce(this.setScale))},methods:{getScale(){const{width:e,height:t}=this,s=window.innerHeight/t,n=window.innerWidth/e;return n<s?n:s},getScaleX(){const e=window.innerWidth/this.width;return e},getScaleY(){const e=window.innerHeight/this.height;return e},setScale(){this.scale=this.getScale(),this.$refs.vue2ScaleBox&&(this.isFlat?(this.scaleX=this.getScaleX(),this.scaleY=this.getScaleY(),this.$refs.vue2ScaleBox.style.setProperty("--scaleX",this.scaleX),this.$refs.vue2ScaleBox.style.setProperty("--scaleY",this.scaleY)):(this.scale=this.getScale(),this.$refs.vue2ScaleBox.style.setProperty("--scale",this.scale)))},debounce(e,t){const s=t||this.delay;let n;return function(){const t=this,i=arguments;n&&clearTimeout(n),n=setTimeout((function(){n=null,e.apply(t,i)}),s)}}}},o=r;function l(e,t,s,n,i,a,r,o){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=s,c._compiled=!0),n&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),r?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):i&&(l=o?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}var c=l(o,i,a,!1,null,null,null),u=c.exports,d=u;return t=t["default"],t}()}));